## Ethereum多重签名设计方案

### 比特币的多重签名方案

在探索Ethereum的多重签名设计方案之前，我们先看看比特币基于 P2SH 的多重签名方案

了解它是如何工作的，以及它如何应用与多重签名方案是很有意义的

正式的 P2SH 定义可以在 [BIP16](<https://github.com/bitcoin/bips/blob/master/bip-0016.mediawiki>) 中找到，这里有一个 [TwoOfThree.sh](<https://gist.github.com/gavinandresen/3966071>) 多重签名的示例。

步骤大致如下：

1. 根据一组公钥和一个阈值参数，生成一个多重签名地址，阈值是触发支出所需的最少签名数量
2. 为一个新的多重签名地址发送资金，将由多重签名地址产生一个 UTXO
3. 使用多重签名的 UTXO 创建一个新的原始离线交易
4. 使用私钥签署离线交易，将会返回一个16进制的字符串
5. 使用另一个私钥在这个16进制的字符串上签名，将会返回一个新的16进制字符串
6. 重复第5步，直到达到阈值，将结果发送到 UTXO 将要使用的脚本中，比特币将转移到所需的地址上

### 状态和转换

我们分析一下上面的过程，首先，选择一个 UTXO 并生成一个原始的离线交易，这是由一个私钥操作的。然后输出由另一个私钥操作，以此类推，N表示在原始交易上有N个私钥的签名，N就是多重签名钱包的签名阈值的数量。



